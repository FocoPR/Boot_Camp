<!DOCTYPE html>
<html>

	<head>
		<title>HTML 5 Boot Camp</title>
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
		<script type="text/javascript" src="js/mustache.js"></script>
		<script type="text/javascript" src="js/underscore-min.js"></script>
		<script type="text/javascript" src="js/smart-2.6.min.js"></script>
		<script type="text/javascript" src="js/json2.js"></script>
	</head>
	
	<body>
	
		<!-- Mustache -->
		<script type="text/javascript">
			var employeeList2 = {
						"title" : "Employees List",
						"employees" : [
							{
								name     : "John smith",
								position : "CEO"
							},
							{
								name     : "Jane Smith",
								position : "CFO"
							},
							{
								name     : "Alex Smith",
								position : "Lead Programmer"
							}
						]
					};
					
			var template =  "<h1>{{title}}</h1>"+
							"{{#employees}}"+
								"<h2>{{name}}</h2>"+
								"<p>Position: {{position}}</p>"+
							"{{/employees}}";
			var html = Mustache.to_html(template,employeeList2);

			document.write(html);
		</script>
		
		<!-- JSmart -->
		<script id="test_tpl" type="text/x-jsmart-tmpl">

			<h1>{$greeting}</h1>

			{foreach $books as $i => $book}
				<div>
					[{$i+1}] {$book.title|upper} by {$book.author} 
					{if $book.price}                                
						Price: <span style="color:red">${$book.price}</span>
					{/if}                                           
				</div>
			{foreachelse}
				No books
			{/foreach}

			Total: {$book@total}
			
		</script>
		<script type="text/javascript">
			var data = {
			   greeting: 'Hi, there are some JScript books you may find interesting:',
			   books : [
				  {
					 title  : 'JavaScript: The Definitive Guide',          
					 author : 'David Flanagan',                            
					 price  : '31.18'
				  },
				  {
					 title  : 'Murach JavaScript and DOM Scripting',
					 author : 'Ray Harris',
				  },
				  {
					 title  : 'Head First JavaScript',
					 author : 'Michael Morrison',
					 price  : '29.54'
				  }
			   ]      
			};

			/*************************/
			
			var tplText = document.getElementById('test_tpl').innerHTML;
			var tpl = new jSmart( tplText );
			var res = tpl.fetch( data );
			/*
				or fetch straigth from JavaScript string
				var res = document.getElementById('test_tpl').innerHTML.fetch(data);
			*/

			document.write( res );

		</script>

	</body>

</html>